<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PRICELSSYNC | MULTIMEDIA VAULT</title>
    <script src="https://www.gstatic.com/firebasejs/9.20.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.20.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.20.0/firebase-storage-compat.js"></script>
    <style>
        body { background: black; color: #00ff00; font-family: 'Courier New', monospace; margin: 0; text-align: center; }
        #matrix { position: fixed; top: 0; left: 0; z-index: -1; }
        .nav { margin: 20px; display: flex; justify-content: center; gap: 10px; }
        button { background: black; color: #0f0; border: 1px solid #0f0; padding: 10px; cursor: pointer; font-weight: bold; }
        .box { display: none; padding: 20px; background: rgba(0, 20, 0, 0.9); border: 2px solid #0f0; margin: 20px auto; width: 85%; border-radius: 10px; }
        .show { display: block; }
        input[type="file"] { border: 1px dashed #0f0; padding: 10px; margin: 10px 0; width: 80%; color: #0f0; }
        #mediaList img, #mediaList video { max-width: 100%; border: 1px solid #0f0; margin-top: 10px; }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>
    <div class="nav">
        <button onclick="op('h')">HOME</button>
        <button onclick="op('v')">MEDIA VAULT</button>
        <button onclick="op('l')">HACK LAB</button>
    </div>

    <div id="h" class="box show">
        <h2>SYSTEM: ONLINE</h2>
        <p>AGENT: PRICELSSYNC</p>
    </div>

    <div id="v" class="box">
        <h2>üì§ UPLOAD PHOTO/VIDEO</h2>
        <input type="file" id="filePicker" accept="image/*,video/*">
        <br>
        <button onclick="uploadMedia()">UPLOAD TO CLOUD</button>
        <p id="upStatus"></p>
        <div id="mediaList" style="text-align:left; margin-top:20px;">
            <h3>SYNCED MEDIA:</h3>
        </div>
    </div>

    <div id="l" class="box">
        <h2>üõ°Ô∏è VUNVILITY</h2>
        <button onclick="document.getElementById('r').style.display='block'">SCAN BUGS</button>
        <div id="r" style="display:none; color:red; margin-top:10px;">[!] Vulnerability: XSS Detected in File Metadata</div>
    </div>

    <script>
        // Matrix Rain
        const c=document.getElementById('matrix'), x=c.getContext('2d');
        c.width=window.innerWidth; c.height=window.innerHeight;
        const m="01PRICELSSYNC", d=Array(Math.floor(c.width/16)).fill(1);
        function dr(){ x.fillStyle="rgba(0,0,0,0.05)"; x.fillRect(0,0,c.width,c.height); x.fillStyle="#0f0"; d.forEach((y,i)=>{ x.fillText(m[Math.floor(Math.random()*m.length)],i*16,y*16); if(y*16>c.height&&Math.random()>0.975)d[i]=0; d[i]++; }); }
        setInterval(dr,35);

        // Firebase
        const firebaseConfig = {
          apiKey: "AIzaSyDfi-d5xOGUI-h2tQub__fX3HpXN3b_RaQ",
          authDomain: "babita-vault-e7eee.firebaseapp.com",
          databaseURL: "https://babita-vault-e7eee-default-rtdb.firebaseio.com",
          projectId: "babita-vault-e7eee",
          storageBucket: "babita-vault-e7eee.firebasestorage.app",
          messagingSenderId: "210122573945",
          appId: "1:210122573945:web:0ed9fde7ec8767a63f2ca8"
        };
        firebase.initializeApp(firebaseConfig);
        const db=firebase.database(), st=firebase.storage();

        function op(id){ document.querySelectorAll('.box').forEach(b=>b.classList.remove('show')); document.getElementById(id).classList.add('show'); }

        async function uploadMedia() {
            const file = document.getElementById('filePicker').files[0];
            if(!file) return;
            const status = document.getElementById('upStatus');
            status.innerText = "Uploading...";
            
            const ref = st.ref('uploads/' + file.name);
            await ref.put(file);
            const url = await ref.getDownloadURL();
            
            db.ref('media').push({ url: url, type: file.type });
            status.innerText = "‚úî Saved to Babita's Memory!";
        }

        db.ref('media').on('value', (s) => {
            const list = document.getElementById('mediaList');
            list.innerHTML = "<h3>SYNCED MEDIA:</h3>";
            s.forEach((c) => {
                const i = c.val();
                if(i.type.includes('image')) list.innerHTML += "<img src='"+i.url+"'>";
                else list.innerHTML += "<video controls src='"+i.url+"'></video>";
            });
        });
    </script>
</body>
</html>

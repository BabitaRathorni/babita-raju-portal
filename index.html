<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PRICELSSYNC | FINAL SYNC</title>
    <script src="https://www.gstatic.com/firebasejs/9.20.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.20.0/firebase-database-compat.js"></script>
    <style>
        body { background: black; color: #00ff00; font-family: 'Courier New', monospace; margin: 0; text-align: center; }
        #matrix { position: fixed; top: 0; left: 0; z-index: -1; }
        .nav-buttons { margin-top: 20px; display: flex; justify-content: center; gap: 10px; }
        button { background: rgba(0,0,0,0.8); color: #00ff00; border: 1px solid #00ff00; padding: 10px; cursor: pointer; }
        .page { display: none; padding: 30px; background: rgba(0, 15, 0, 0.95); border: 2px solid #00ff00; margin: 20px auto; max-width: 90%; border-radius:10px; }
        .active-page { display: block; }
        #vaultContent { text-align: left; margin-top: 20px; border-top: 1px dashed #0f0; padding-top: 10px; }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>
    <div class="nav-buttons">
        <button onclick="showPage('home')">HOME</button>
        <button onclick="showPage('vault')">SECRET VAULT</button>
    </div>

    <div id="home" class="page active-page">
        <h2>DATABASE STATUS: <span style="color:white;">ONLINE âœ”</span></h2>
        <p>AGENT: PRICELSSYNC</p>
        <p>System is now connected to Babita-Vault-e7eee.</p>
    </div>

    <div id="vault" class="page">
        <h2>ðŸ”’ PERMANENT VAULT</h2>
        <p>Enter Secret Note or File Name to Save:</p>
        <input type="text" id="secretInput" placeholder="Ex: HSC Freezing Location" style="width:80%; background:black; color:#0f0; border:1px solid #0f0; padding:10px;">
        <br><br>
        <button onclick="saveToCloud()">SAVE TO PERMANENT MEMORY</button>
        
        <div id="vaultContent">
            <p style="color:yellow;">Loading synced data...</p>
        </div>
    </div>

    <script>
        // Matrix Effect
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const letters = "01PRICELSSYNCBABITA";
        const fontSize = 16;
        const drops = Array(Math.floor(canvas.width / fontSize)).fill(1);
        function draw() {
            ctx.fillStyle = "rgba(0, 0, 0, 0.05)"; ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#0F0"; ctx.font = fontSize + "px arial";
            drops.forEach((y, i) => {
                const text = letters[Math.floor(Math.random() * letters.length)];
                ctx.fillText(text, i * fontSize, y * fontSize);
                if (y * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }
        setInterval(draw, 33);

        // Firebase Config with your keys
        const firebaseConfig = {
          apiKey: "AIzaSyDfi-d5xOGUI-h2tQub__fX3HpXN3b_RaQ",
          authDomain: "babita-vault-e7eee.firebaseapp.com",
          databaseURL: "https://babita-vault-e7eee-default-rtdb.firebaseio.com",
          projectId: "babita-vault-e7eee",
          storageBucket: "babita-vault-e7eee.firebasestorage.app",
          messagingSenderId: "210122573945",
          appId: "1:210122573945:web:0ed9fde7ec8767a63f2ca8"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            document.getElementById(pageId).classList.add('active-page');
        }

        function saveToCloud() {
            const val = document.getElementById('secretInput').value;
            if(!val) return;
            db.ref('vault').push({
                data: val,
                timestamp: Date.now()
            });
            document.getElementById('secretInput').value = "";
            alert("Saved to Babita's Permanent Memory!");
        }

        // Fetch Data Automatically
        db.ref('vault').on('value', (snapshot) => {
            const content = document.getElementById('vaultContent');
            content.innerHTML = "<h3>SYNCED SECRETS:</h3>";
            snapshot.forEach((child) => {
                content.innerHTML += "<p>â€¢ " + child.val().data + "</p>";
            });
        });
    </script>
</body>
</html>

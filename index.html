<!DOCTYPE html>
<html>
<head>
    <title>PRICELSSYNC | 100% FREE VAULT</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; text-align: center; }
        .box { border: 2px solid #0f0; padding: 20px; margin: 10px; background: rgba(0,20,0,0.9); }
        input, button { margin: 10px; padding: 10px; background: #000; color: #0f0; border: 1px solid #0f0; cursor: pointer; }
        #preview { max-width: 100%; border: 1px solid #0f0; display:none; margin: 10px auto; }
        .media-item { border-bottom: 1px dashed #0f0; padding: 10px; }
        img, video { max-width: 90%; margin: 10px; border: 1px solid #0f0; }
    </style>
</head>
<body>
    <div class="box">
        <h2>üõ∞Ô∏è BABITA FREE MULTIMEDIA (NO CARD)</h2>
        <p>AGENT: PRICELSSYNC</p>
        <input type="file" id="fileInput" accept="image/*,video/*">
        <button onclick="uploadFree()">SAVE TO VAULT</button>
        <p id="status"></p>
        <div id="gallery"></div>
    </div>

    <script>
        // Firebase Config (Sirf Database)
        const firebaseConfig = {
          apiKey: "AIzaSyDfi-d5xOGUI-h2tQub__fX3HpXN3b_RaQ",
          databaseURL: "https://babita-vault-e7eee-default-rtdb.firebaseio.com",
          projectId: "babita-vault-e7eee",
          appId: "1:210122573945:web:0ed9fde7ec8767a63f2ca8"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function uploadFree() {
            const file = document.getElementById('fileInput').files[0];
            if(!file) return alert("Pehle file chuno!");
            
            // File size check (Base64 creates large strings, keep under 2MB for free DB)
            if(file.size > 2 * 1024 * 1024) return alert("File bahut badi hai! 2MB se kam ki photo/video dalo.");

            const reader = new FileReader();
            document.getElementById('status').innerText = "Encoding... ‚è≥";
            
            reader.onload = function(e) {
                const base64Data = e.target.result;
                db.ref('free_media').push({
                    data: base64Data,
                    type: file.type,
                    name: file.name,
                    time: Date.now()
                }).then(() => {
                    document.getElementById('status').innerText = "‚úî Saved in Babita's Memory!";
                });
            };
            reader.readAsDataURL(file);
        }

        db.ref('free_media').on('value', (snap) => {
            const gal = document.getElementById('gallery');
            gal.innerHTML = "<h3>SYNCED MEMORIES:</h3>";
            snap.forEach((child) => {
                const d = child.val();
                let content = d.type.includes('image') ? 
                    "<img src='"+d.data+"'>" : 
                    "<video controls src='"+d.data+"'></video>";
                gal.innerHTML += "<div class='media-item'>" + content + "<p>"+d.name+"</p></div>";
            });
        });
    </script>
</body>
</html>

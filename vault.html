<!DOCTYPE html>
<html>
<head>
    <title>PRICELSSYNC | REBORN</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; text-align: center; }
        .box { border: 2px solid #0f0; padding: 20px; margin: 15px; background: #001100; }
        input, button { background: #000; color: #0f0; border: 1px solid #0f0; padding: 10px; margin: 5px; width: 80%; }
        #gallery img, #gallery video { max-width: 90%; border: 1px solid #0f0; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="box">
        <h1>üõ∞Ô∏è BABITA FREE VAULT</h1>
        <p>AGENT: PRICELSSYNC</p>
        <input type="file" id="mPicker" accept="image/*,video/*">
        <button onclick="up()">UPLOAD NOW</button>
        <p id="st"></p>
        <hr>
        <div id="gallery"></div>
    </div>
    <script>
        const config = {
          apiKey: "AIzaSyDfi-d5xOGUI-h2tQub__fX3HpXN3b_RaQ",
          databaseURL: "https://babita-vault-e7eee-default-rtdb.firebaseio.com",
          projectId: "babita-vault-e7eee",
          appId: "1:210122573945:web:0ed9fde7ec8767a63f2ca8"
        };
        firebase.initializeApp(config);
        const db = firebase.database();
        function up() {
            const f = document.getElementById('mPicker').files[0];
            if(!f) return alert("Select file!");
            const r = new FileReader();
            document.getElementById('st').innerText = "Syncing... ‚è≥";
            r.onload = (e) => {
                db.ref('free_media').push({c: e.target.result, t: f.type, n: f.name})
                .then(() => { document.getElementById('st').innerText = "‚úî SAVED!"; });
            };
            r.readAsDataURL(f);
        }
        db.ref('free_media').on('value', (s) => {
            const g = document.getElementById('gallery'); g.innerHTML = "";
            s.forEach((c) => {
                const v = c.val();
                let el = v.t.includes('image') ? "<img src='"+v.c+"'>" : "<video controls src='"+v.c+"'></video>";
                g.innerHTML += "<div>" + el + "<p>"+v.n+"</p></div>";
            });
        });
    </script>
</body>
</html>
